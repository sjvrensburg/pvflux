% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pv_clearsky_pipeline.R
\name{pv_clearsky_dc_pipeline}
\alias{pv_clearsky_dc_pipeline}
\title{PV DC Power Pipeline with Clear-Sky Irradiance}
\usage{
pv_clearsky_dc_pipeline(
  time,
  lat,
  lon,
  T_air,
  wind,
  tilt,
  azimuth,
  linke_turbidity = NULL,
  altitude = 1233,
  albedo = 0.2,
  transposition_model = c("haydavies", "reindl", "perez"),
  cell_temp_model = c("skoplaki", "faiman"),
  iam_exp = 0.05,
  P_dc0 = 230,
  gamma = -0.0043,
  solar_constant = 1366.1,
  perez_enhancement = FALSE,
  ...
)
}
\arguments{
\item{time}{Timestamps as POSIXct, POSIXlt, character, or numeric. If a timezone
is specified, times are internally converted to UTC for solar position
calculations and returned in the original timezone.}

\item{lat}{Latitude in degrees}

\item{lon}{Longitude in degrees}

\item{T_air}{Air temperature in degrees Celsius}

\item{wind}{Wind speed in m/s}

\item{tilt}{Panel tilt angle from horizontal in degrees (0 = horizontal, 90 = vertical)}

\item{azimuth}{Panel azimuth angle in degrees (0 = north, 90 = east, 180 = south, 270 = west)}

\item{linke_turbidity}{Linke turbidity coefficient. Can be:
\itemize{
\item NULL (default): Automatically lookup from global climatological database
(requires hdf5r package). Recommended for long-term simulations.
\item Single numeric value: Applied to all times (e.g., 3.0 for clean rural)
\item Numeric vector: Matching length of time for custom time-varying turbidity
}}

\item{altitude}{Altitude above sea level in meters. Default: 1233 (De Aar, South Africa)}

\item{albedo}{Ground albedo (reflectance). Default: 0.2}

\item{transposition_model}{Transposition model to use. Options: "haydavies", "reindl", "perez".
Default: "haydavies"}

\item{cell_temp_model}{Cell temperature model. Options: "skoplaki", "faiman".
Default: "skoplaki"}

\item{iam_exp}{Incidence angle modifier exponent for power-law model: cos(θ)^b.
Set to NA or FALSE to disable IAM. Default: 0.05}

\item{P_dc0}{Nameplate DC power rating in Watts at STC. Default: 230}

\item{gamma}{Temperature coefficient of power (1/K). Default: -0.0043}

\item{solar_constant}{Solar constant (W/m^2). Default: 1366.1}

\item{perez_enhancement}{Apply Perez enhancement factor for very clear conditions.
Default: FALSE}

\item{...}{Additional parameters passed to cell temperature and DC power models
(e.g., T_NOCT, skoplaki_variant, eta_STC, tau_alpha, u0, u1)}
}
\value{
Data frame with columns:
\describe{
\item{time}{Input timestamps}
\item{ghi_clearsky}{Clear-sky global horizontal irradiance (W/m^2)}
\item{dni_clearsky}{Clear-sky direct normal irradiance (W/m^2)}
\item{dhi_clearsky}{Clear-sky diffuse horizontal irradiance (W/m^2)}
\item{G_poa}{Plane-of-array irradiance (W/m^2)}
\item{T_air}{Air temperature (°C)}
\item{wind}{Wind speed (m/s)}
\item{T_cell}{Cell temperature (°C)}
\item{P_dc}{DC power output (W)}
\item{zenith}{Solar zenith angle (degrees)}
\item{incidence}{Angle of incidence on panel (degrees)}
\item{airmass}{Relative optical airmass}
\item{transposition}{Transposition model used}
\item{cell_temp}{Cell temperature model used}
}
}
\description{
Calculate expected DC power under clear-sky conditions using the Ineichen-Perez
clear-sky model combined with the modular PV power pipeline.

This function is useful for:
\itemize{
\item Estimating maximum potential power output
\item Comparing actual vs. clear-sky performance
\item Fault detection and performance monitoring
\item Resource assessment and capacity planning
}
}
\examples{
\dontrun{
# Short-term simulation (one day)
time <- seq(as.POSIXct("2026-01-15 06:00", tz = "UTC"),
            by = "hour", length.out = 12)
T_air <- rep(25, 12)
wind <- rep(2, 12)

# Default: linke_turbidity = NULL uses database lookup (requires hdf5r)
result <- pv_clearsky_dc_pipeline(
  time = time,
  lat = -30.6279,
  lon = 24.0054,
  T_air = T_air,
  wind = wind,
  tilt = 30,
  azimuth = 0,
  altitude = 1233
)

# Long-term simulation (one year) with automatic turbidity lookup
time_year <- seq(as.POSIXct("2026-01-01 00:00", tz = "UTC"),
                 as.POSIXct("2026-12-31 23:00", tz = "UTC"),
                 by = "hour")
# Turbidity automatically varies with season via database lookup
result_year <- pv_clearsky_dc_pipeline(
  time = time_year,
  lat = -30.6279,
  lon = 24.0054,
  T_air = rep(25, length(time_year)),
  wind = rep(2, length(time_year)),
  tilt = 30,
  azimuth = 0
)
}

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pv_power_pipeline.R
\name{pv_power_pipeline}
\alias{pv_power_pipeline}
\title{Complete PV Power Pipeline: DC and AC}
\usage{
pv_power_pipeline(
  time,
  lat,
  lon,
  GHI,
  T_air,
  wind,
  tilt,
  azimuth,
  albedo = 0.2,
  P_dc0 = 230,
  gamma = -0.0043,
  skoplaki_variant = c("model1", "model2"),
  T_NOCT = 45,
  T_a_NOCT = 20,
  I_NOCT = 800,
  v_NOCT = 1,
  eta_STC = 0.141,
  tau_alpha = 0.9,
  n_inverters = 20,
  inverter_kw = 500,
  eta_inv = 0.97
)
}
\arguments{
\item{time}{POSIXct vector of times (UTC recommended)}

\item{lat}{Latitude in degrees}

\item{lon}{Longitude in degrees}

\item{GHI}{Global horizontal irradiance (W/m^2)}

\item{T_air}{Ambient air temperature (deg C)}

\item{wind}{Wind speed (m/s)}

\item{tilt}{Panel tilt angle (degrees)}

\item{azimuth}{Panel azimuth (degrees, 0 = north)}

\item{albedo}{Ground albedo (default 0.2)}

\item{P_dc0}{DC nameplate power (W, default 230 for Trina TSM-230 PC05 module)}

\item{gamma}{Temperature coefficient of max power (1/K, default -0.0043)}

\item{skoplaki_variant}{Either "model1" or "model2" (default "model1")}

\item{T_NOCT}{Nominal Operating Cell Temperature (deg C, default 45)}

\item{T_a_NOCT}{Ambient temperature at NOCT conditions (deg C, default 20)}

\item{I_NOCT}{Irradiance at NOCT conditions (W/m^2, default 800)}

\item{v_NOCT}{Wind speed at NOCT conditions (m/s, default 1)}

\item{eta_STC}{Module efficiency at STC (default 0.141)}

\item{tau_alpha}{Product of transmittance and absorption coefficient (default 0.9)}

\item{n_inverters}{Number of inverters (default 20)}

\item{inverter_kw}{kW rating per inverter (default 500)}

\item{eta_inv}{Inverter efficiency (default 0.97)}
}
\value{
Data frame with columns: time, GHI, G_poa, T_air, wind, T_cell, P_dc,
P_ac, clipped, P_ac_rated, zenith, sun_azimuth, incidence, skoplaki
}
\description{
Convenience function that calculates both DC and AC power by
chaining together all four models:
\enumerate{
\item \strong{Olmo et al. transposition}: GHI to POA irradiance
\item \strong{Skoplaki cell temperature}: POA + weather to cell temperature
\item \strong{PVWatts DC model}: POA + cell temp to DC power
\item \strong{Simple AC clipping}: DC power to AC power with inverter losses
}

This is the highest-level convenience function in the package. For more control
over individual steps, use the underlying functions:
\itemize{
\item \code{\link{olmo_transposition}} - Transposition model only
\item \code{\link{skoplaki_cell_temperature}} - Cell temperature only
\item \code{\link{pvwatts_dc}} - DC power calculation only
\item \code{\link{pv_ac_simple_clipping}} - AC conversion only
\item \code{\link{pv_dc_olmo_skoplaki_pvwatts}} - DC pipeline (steps 1-3)
}
}
\examples{
\dontrun{
# Example for De Aar plant (10.32 MW)
time <- seq(as.POSIXct("2026-01-15 06:00", tz = "UTC"),
            by = "hour", length.out = 12)
GHI <- c(50, 200, 450, 700, 850, 950, 1000, 950, 850, 700, 450, 200)
T_air <- c(20, 22, 26, 29, 32, 34, 35, 34, 32, 29, 26, 23)
wind <- c(2, 2.5, 3, 4, 4.5, 5, 5, 5, 4.5, 4, 3, 2.5)

result <- pv_power_pipeline(
  time = time,
  lat = -30.6279,
  lon = 24.0054,
  GHI = GHI,
  T_air = T_air,
  wind = wind,
  tilt = 20,
  azimuth = 0,
  P_dc0 = 44880 * 230,  # 44,880 modules x 230W
  n_inverters = 20,
  inverter_kw = 500
)

head(result)
}

}
\seealso{
\code{\link{olmo_transposition}} for transposition model details
\code{\link{skoplaki_cell_temperature}} for cell temperature model details
\code{\link{pvwatts_dc}} for DC power model details
\code{\link{pv_ac_simple_clipping}} for AC conversion details
\code{\link{pv_dc_olmo_skoplaki_pvwatts}} for DC-only pipeline
}

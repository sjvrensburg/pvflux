% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pv_clearsky_pipeline.R
\name{pv_clearsky_power_pipeline}
\alias{pv_clearsky_power_pipeline}
\title{PV AC Power Pipeline with Clear-Sky Irradiance}
\usage{
pv_clearsky_power_pipeline(
  time,
  lat,
  lon,
  T_air,
  wind,
  tilt,
  azimuth,
  linke_turbidity = NULL,
  altitude = 1233,
  albedo = 0.2,
  transposition_model = c("haydavies", "reindl", "perez"),
  cell_temp_model = c("skoplaki", "faiman"),
  iam_exp = 0.05,
  P_dc0 = 230,
  gamma = -0.0043,
  solar_constant = 1366.1,
  perez_enhancement = FALSE,
  clearsky_model = c("ineichen", "haurwitz"),
  n_inverters = 20,
  inverter_kw = 500,
  eta_inv = 0.97,
  ...
)
}
\arguments{
\item{time}{Timestamps as POSIXct, POSIXlt, character, or numeric. If a timezone
is specified, times are internally converted to UTC for solar position
calculations and returned in the original timezone.}

\item{lat}{Latitude in degrees}

\item{lon}{Longitude in degrees}

\item{T_air}{Air temperature in degrees Celsius}

\item{wind}{Wind speed in m/s}

\item{tilt}{Panel tilt angle from horizontal in degrees (0 = horizontal, 90 = vertical)}

\item{azimuth}{Panel azimuth angle in degrees (0 = north, 90 = east, 180 = south, 270 = west)}

\item{linke_turbidity}{Linke turbidity coefficient. Can be:
\itemize{
\item NULL (default): Automatically lookup from global climatological database
(requires hdf5r package). Recommended for long-term simulations.
\item Single numeric value: Applied to all times (e.g., 3.0 for clean rural)
\item Numeric vector: Matching length of time for custom time-varying turbidity
}}

\item{altitude}{Altitude above sea level in meters. Default: 1233 (De Aar, South Africa)}

\item{albedo}{Ground albedo (reflectance). Default: 0.2}

\item{transposition_model}{Transposition model to use. Options: "haydavies", "reindl", "perez".
Default: "haydavies"}

\item{cell_temp_model}{Cell temperature model. Options: "skoplaki", "faiman".
Default: "skoplaki"}

\item{iam_exp}{Incidence angle modifier exponent for power-law model: cos(Î¸)^b.
Set to NA or FALSE to disable IAM. Default: 0.05}

\item{P_dc0}{Nameplate DC power rating in Watts at STC. Default: 230}

\item{gamma}{Temperature coefficient of power (1/K). Default: -0.0043}

\item{solar_constant}{Solar constant (W/m^2). Default: 1366.1}

\item{perez_enhancement}{Apply Perez enhancement factor for very clear conditions.
Only used for "ineichen" clearsky model. Default: FALSE}

\item{clearsky_model}{Clear-sky model to use. Options: "ineichen", "haurwitz".
Default: "ineichen"}

\item{n_inverters}{Number of inverters. Default: 20}

\item{inverter_kw}{Rated power of each inverter in kW. Default: 500}

\item{eta_inv}{Inverter efficiency (0-1). Default: 0.97}

\item{...}{Additional parameters passed to cell temperature and DC power models
(e.g., T_NOCT, skoplaki_variant, eta_STC, tau_alpha, u0, u1)}
}
\value{
Data frame with all columns from \code{\link{pv_clearsky_dc_pipeline}} plus:
\describe{
\item{P_ac}{AC power output (W)}
\item{clipped}{Logical indicating whether power was clipped by inverter limit}
\item{P_ac_rated}{Total rated AC power capacity (W)}
}
}
\description{
Calculate expected AC power under clear-sky conditions using a clear-sky model
combined with the full PV power pipeline (DC + AC conversion).

This extends \code{\link{pv_clearsky_dc_pipeline}} by adding AC conversion with
inverter clipping.
}
\examples{
\dontrun{
time <- seq(as.POSIXct("2026-01-15 06:00", tz = "UTC"),
            by = "hour", length.out = 12)
T_air <- rep(25, 12)
wind <- rep(2, 12)

# Default: linke_turbidity = NULL uses database lookup (requires hdf5r)
result <- pv_clearsky_power_pipeline(
  time = time,
  lat = -30.6279,
  lon = 24.0054,
  T_air = T_air,
  wind = wind,
  tilt = 30,
  azimuth = 0,
  altitude = 1233,
  n_inverters = 20,
  inverter_kw = 500
)
}

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/time_utils.R
\name{prepare_time_utc}
\alias{prepare_time_utc}
\title{Prepare Time for UTC-based Calculations}
\usage{
prepare_time_utc(time)
}
\arguments{
\item{time}{A vector of timestamps. Can be POSIXct, POSIXlt, character,
or numeric (interpreted as seconds since epoch in UTC).}
}
\value{
A list with two elements:
\describe{
\item{time_utc}{POSIXct vector in UTC timezone}
\item{original_tz}{Character string of original timezone (or "UTC" if none)}
}
}
\description{
Converts input time to POSIXct in UTC for internal calculations.
Stores the original timezone for later restoration.
}
\details{
The function handles several input types:
\itemize{
\item \strong{POSIXct with timezone}: Converts to UTC, preserves original tz
\item \strong{POSIXct without timezone}: Assumes UTC
\item \strong{POSIXlt}: Converts to POSIXct, then handles as above
\item \strong{Character}: Parses with lubridate, assumes UTC if no tz info
\item \strong{Numeric}: Interprets as seconds since 1970-01-01 00:00:00 UTC
}
}
\examples{
\dontrun{
# POSIXct with explicit timezone - converts to UTC
t1 <- as.POSIXct("2026-01-15 12:00", tz = "Africa/Johannesburg")
prep1 <- prepare_time_utc(t1)
# prep1$time_utc is 10:00 UTC (SAST is UTC+2)
# prep1$original_tz is "Africa/Johannesburg"

# POSIXct with UTC - no conversion needed
t2 <- as.POSIXct("2026-01-15 12:00", tz = "UTC")
prep2 <- prepare_time_utc(t2)
# prep2$time_utc is 12:00 UTC
# prep2$original_tz is "UTC"

# POSIXct without timezone - assumes UTC
t3 <- as.POSIXct("2026-01-15 12:00")
prep3 <- prepare_time_utc(t3)
# prep3$time_utc is 12:00 UTC
# prep3$original_tz is "UTC"
}

}
\keyword{internal}
